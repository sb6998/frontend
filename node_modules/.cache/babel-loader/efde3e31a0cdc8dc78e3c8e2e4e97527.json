{"ast":null,"code":"var _jsxFileName = \"/home/saurabh/Desktop/saarthi/frontend/src/App.js\";\nimport './App.css';\nimport React, { useState } from 'react';\nimport { CURLParser } from 'parse-curl-js';\nimport axios from 'axios';\nimport curlconverter from 'curlconverter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      query: null,\n      data: null\n    };\n    this.publish = this.publish.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(_ref) {\n    let {\n      target\n    } = _ref;\n    this.setState({\n      [target.name]: target.value\n    });\n  }\n\n  publish() {\n    console.log(this.state.query);\n    var curlconverter = curlconverter; // const cURLParser = new CURLParser(this.state.query)\n    // console.log(cURLParser.parse());\n    // console.log(JSON.stringify(cURLParser.parse().body.data));\n    // console.log(cURLParser.parse().body.method)\n\n    const cURLParser = curlconverter.toJsonString(this.state.query);\n    console.log(cURLParser);\n    const requestOptions = {\n      method: cURLParser.method,\n      headers: {\n        'Accept': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      },\n      body: JSON.stringify(cURLParser.body.data)\n    };\n    axios({\n      method: requestOptions.method,\n      url: '/api/books',\n      data: requestOptions.body,\n      headers: requestOptions.headers\n    }).then(data => console.log(data)).catch(error => console.log(error));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"query\",\n        placeholder: \"Enter curl query here...\",\n        value: this.state.query,\n        onChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        value: \"Send\",\n        onClick: this.publish,\n        children: \"Run Query\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/saurabh/Desktop/saarthi/frontend/src/App.js"],"names":["React","useState","CURLParser","axios","curlconverter","App","Component","constructor","state","query","data","publish","bind","handleChange","target","setState","name","value","console","log","cURLParser","toJsonString","requestOptions","method","headers","body","JSON","stringify","url","then","catch","error","render"],"mappings":";AAAA,OAAO,WAAP;AACA,OAAOA,KAAP,IAAeC,QAAf,QAA6B,OAA7B;AACA,SAASC,UAAT,QAA2B,eAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,eAA1B;;;AAGA,MAAMC,GAAN,SAAkBL,KAAK,CAACM,SAAxB,CAAkC;AAChCC,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,IADI;AAEXC,MAAAA,IAAI,EAAC;AAFM,KAAb;AAKA,SAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAf;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AAEDC,EAAAA,YAAY,OAAa;AAAA,QAAZ;AAAEC,MAAAA;AAAF,KAAY;AACvB,SAAKC,QAAL,CAAc;AACZ,OAACD,MAAM,CAACE,IAAR,GAAeF,MAAM,CAACG;AADV,KAAd;AAGD;;AAEDN,EAAAA,OAAO,GAAG;AACRO,IAAAA,OAAO,CAACC,GAAR,CAAa,KAAKX,KAAL,CAAWC,KAAxB;AACA,QAAIL,aAAa,GAAGA,aAApB,CAFQ,CAGR;AACA;AACA;AACA;;AACA,UAAMgB,UAAU,GAAGhB,aAAa,CAACiB,YAAd,CAA2B,KAAKb,KAAL,CAAWC,KAAtC,CAAnB;AACAS,IAAAA,OAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,UAAME,cAAc,GAAG;AACrBC,MAAAA,MAAM,EAAEH,UAAU,CAACG,MADE;AAErBC,MAAAA,OAAO,EAAG;AAAC,kBAAU,kBAAX;AACV,uCAAgC;AADtB,OAFW;AAIrBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,UAAU,CAACK,IAAX,CAAgBf,IAA/B;AAJe,KAAvB;AAOAP,IAAAA,KAAK,CAAC;AAACoB,MAAAA,MAAM,EAACD,cAAc,CAACC,MAAvB;AACJK,MAAAA,GAAG,EAAE,YADD;AAEJlB,MAAAA,IAAI,EAAEY,cAAc,CAACG,IAFjB;AAGJD,MAAAA,OAAO,EAAEF,cAAc,CAACE;AAHpB,KAAD,CAAL,CAKCK,IALD,CAKOnB,IAAD,IAAUQ,OAAO,CAACC,GAAR,CAAYT,IAAZ,CALhB,EAMCoB,KAND,CAMQC,KAAD,IAAWb,OAAO,CAACC,GAAR,CAAYY,KAAZ,CANlB;AAOD;;AAEDC,EAAAA,MAAM,GAAG;AACP,wBAAO;AAAA,8BACL;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,OAFP;AAGE,QAAA,WAAW,EAAC,0BAHd;AAIE,QAAA,KAAK,EAAG,KAAKxB,KAAL,CAAWC,KAJrB;AAKE,QAAA,QAAQ,EAAG,KAAKI;AALlB;AAAA;AAAA;AAAA;AAAA,cADK,eAQL;AAAQ,QAAA,KAAK,EAAC,MAAd;AAAqB,QAAA,OAAO,EAAG,KAAKF,OAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARK;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AAUD;;AAtD+B;;AAyDlC,eAAeN,GAAf","sourcesContent":["import './App.css';\nimport React ,{useState}from 'react'\nimport { CURLParser } from 'parse-curl-js'\nimport axios from 'axios';\nimport curlconverter from 'curlconverter';\n\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      query: null,\n      data:null,\n    };\n    \n    this.publish = this.publish.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n  \n  handleChange({ target }) {\n    this.setState({\n      [target.name]: target.value\n    });\n  }\n\n  publish() {\n    console.log( this.state.query);\n    var curlconverter = curlconverter\n    // const cURLParser = new CURLParser(this.state.query)\n    // console.log(cURLParser.parse());\n    // console.log(JSON.stringify(cURLParser.parse().body.data));\n    // console.log(cURLParser.parse().body.method)\n    const cURLParser = curlconverter.toJsonString(this.state.query)\n    console.log(cURLParser)\n    const requestOptions = {\n      method: cURLParser.method,\n      headers:  {'Accept': 'application/json',\n      'Access-Control-Allow-Origin' : '*',},\n      body: JSON.stringify(cURLParser.body.data),\n      };\n\n    axios({method:requestOptions.method,\n      url: '/api/books',\n      data: requestOptions.body,\n      headers: requestOptions.headers,\n    })\n    .then((data) => console.log(data))\n    .catch((error) => console.log(error))\n  };\n  \n  render() {\n    return <div>\n      <input \n        type=\"text\" \n        name=\"query\" \n        placeholder=\"Enter curl query here...\" \n        value={ this.state.query }\n        onChange={ this.handleChange } \n      />\n      <button value=\"Send\" onClick={ this.publish }>Run Query</button>\n    </div>\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}