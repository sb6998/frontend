{"ast":null,"code":"export function parseCommand(cmd) {\n  const extraSpacesStrippedCommand = cmd.replace(/\\s{2,}/g, ' ');\n  const splitCommand = extraSpacesStrippedCommand.split(/\\s+(?![^[]*]|[^<]*>)/);\n  const bregex = /\\.*[\\][<>]/g;\n  const firstCommand = splitCommand.shift();\n  if (!firstCommand) throw new Error(`No command found in: ${cmd}`);\n  const parsedCommand = {\n    cmd: firstCommand.replace(bregex, ''),\n    demanded: [],\n    optional: []\n  };\n  splitCommand.forEach((cmd, i) => {\n    let variadic = false;\n    cmd = cmd.replace(/\\s/g, '');\n    if (/\\.+[\\]>]/.test(cmd) && i === splitCommand.length - 1) variadic = true;\n\n    if (/^\\[/.test(cmd)) {\n      parsedCommand.optional.push({\n        cmd: cmd.replace(bregex, '').split('|'),\n        variadic\n      });\n    } else {\n      parsedCommand.demanded.push({\n        cmd: cmd.replace(bregex, '').split('|'),\n        variadic\n      });\n    }\n  });\n  return parsedCommand;\n}","map":{"version":3,"sources":["/home/saurabh/Desktop/saarthi/frontend/node_modules/@curlconverter/yargs/build/lib/parse-command.js"],"names":["parseCommand","cmd","extraSpacesStrippedCommand","replace","splitCommand","split","bregex","firstCommand","shift","Error","parsedCommand","demanded","optional","forEach","i","variadic","test","length","push"],"mappings":"AAAA,OAAO,SAASA,YAAT,CAAsBC,GAAtB,EAA2B;AAC9B,QAAMC,0BAA0B,GAAGD,GAAG,CAACE,OAAJ,CAAY,SAAZ,EAAuB,GAAvB,CAAnC;AACA,QAAMC,YAAY,GAAGF,0BAA0B,CAACG,KAA3B,CAAiC,sBAAjC,CAArB;AACA,QAAMC,MAAM,GAAG,aAAf;AACA,QAAMC,YAAY,GAAGH,YAAY,CAACI,KAAb,EAArB;AACA,MAAI,CAACD,YAAL,EACI,MAAM,IAAIE,KAAJ,CAAW,wBAAuBR,GAAI,EAAtC,CAAN;AACJ,QAAMS,aAAa,GAAG;AAClBT,IAAAA,GAAG,EAAEM,YAAY,CAACJ,OAAb,CAAqBG,MAArB,EAA6B,EAA7B,CADa;AAElBK,IAAAA,QAAQ,EAAE,EAFQ;AAGlBC,IAAAA,QAAQ,EAAE;AAHQ,GAAtB;AAKAR,EAAAA,YAAY,CAACS,OAAb,CAAqB,CAACZ,GAAD,EAAMa,CAAN,KAAY;AAC7B,QAAIC,QAAQ,GAAG,KAAf;AACAd,IAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,KAAZ,EAAmB,EAAnB,CAAN;AACA,QAAI,WAAWa,IAAX,CAAgBf,GAAhB,KAAwBa,CAAC,KAAKV,YAAY,CAACa,MAAb,GAAsB,CAAxD,EACIF,QAAQ,GAAG,IAAX;;AACJ,QAAI,MAAMC,IAAN,CAAWf,GAAX,CAAJ,EAAqB;AACjBS,MAAAA,aAAa,CAACE,QAAd,CAAuBM,IAAvB,CAA4B;AACxBjB,QAAAA,GAAG,EAAEA,GAAG,CAACE,OAAJ,CAAYG,MAAZ,EAAoB,EAApB,EAAwBD,KAAxB,CAA8B,GAA9B,CADmB;AAExBU,QAAAA;AAFwB,OAA5B;AAIH,KALD,MAMK;AACDL,MAAAA,aAAa,CAACC,QAAd,CAAuBO,IAAvB,CAA4B;AACxBjB,QAAAA,GAAG,EAAEA,GAAG,CAACE,OAAJ,CAAYG,MAAZ,EAAoB,EAApB,EAAwBD,KAAxB,CAA8B,GAA9B,CADmB;AAExBU,QAAAA;AAFwB,OAA5B;AAIH;AACJ,GAjBD;AAkBA,SAAOL,aAAP;AACH","sourcesContent":["export function parseCommand(cmd) {\n    const extraSpacesStrippedCommand = cmd.replace(/\\s{2,}/g, ' ');\n    const splitCommand = extraSpacesStrippedCommand.split(/\\s+(?![^[]*]|[^<]*>)/);\n    const bregex = /\\.*[\\][<>]/g;\n    const firstCommand = splitCommand.shift();\n    if (!firstCommand)\n        throw new Error(`No command found in: ${cmd}`);\n    const parsedCommand = {\n        cmd: firstCommand.replace(bregex, ''),\n        demanded: [],\n        optional: [],\n    };\n    splitCommand.forEach((cmd, i) => {\n        let variadic = false;\n        cmd = cmd.replace(/\\s/g, '');\n        if (/\\.+[\\]>]/.test(cmd) && i === splitCommand.length - 1)\n            variadic = true;\n        if (/^\\[/.test(cmd)) {\n            parsedCommand.optional.push({\n                cmd: cmd.replace(bregex, '').split('|'),\n                variadic,\n            });\n        }\n        else {\n            parsedCommand.demanded.push({\n                cmd: cmd.replace(bregex, '').split('|'),\n                variadic,\n            });\n        }\n    });\n    return parsedCommand;\n}\n"]},"metadata":{},"sourceType":"module"}